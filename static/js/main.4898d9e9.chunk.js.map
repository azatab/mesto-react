{"version":3,"sources":["images/logo-vect.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","aria-label","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","id","about","map","Footer","date","Date","getFullYear","PopupWithForm","props","isOpen","title","onSubmit","noValidate","children","buttonLabel","onClose","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_handleServerResponse","data","body","JSON","stringify","meth","Authorization","EditProfilePopup","onUpdateUser","rest","useState","setName","description","setDescription","useEffect","minLength","maxLength","required","value","onChange","e","target","preventDefault","EditAvatarPopup","onUpdateAvatar","avatarUrl","useRef","current","ref","placeholder","AddPlacePopup","setLink","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","all","getCards","cardsObj","catch","err","console","log","getUserInfo","userData","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","inputValues","setUserInfo","inputValue","setUserAvatar","place","loadCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4898d9e9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-vect.bbe2a6ea.svg\";","import React from 'react'\r\nimport logo from '../images/logo-vect.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__section\">\r\n          <img className=\"header__logo\" src={logo} alt=\"Место Россия\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Card ({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  \r\n  const isOwn = card.owner._id === currentUser._id\r\n  const cardDeleteButtonClassName = (\r\n    `button ${isOwn ? 'cards__delete-button' : 'cards__delete-button_hidden'}`\r\n  )\r\n  \r\n  const isLiked = card.likes.some(item => item._id === currentUser._id)\r\n  const cardLikeButtonClassName = (\r\n    `button cards__like-button ${isLiked ? 'cards__like-button-active' : ''}`\r\n  )\r\n\r\n  function handleClick() {\r\n    onCardClick(card)\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__item\" key={card._id}>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"удалить карточку\" onClick={handleDeleteClick} ></button>\r\n      <img src={card.link} className=\"cards__image\" alt={card.name} onClick={handleClick}/>\r\n      <h2 className=\"cards__title\">{card.name}</h2>\r\n      <div className=\"cards__like-container\">\r\n        <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"поставить лайк\" onClick={handleLikeClick} ></button>\r\n        <span className=\"cards__like-counter\">{card.likes.length}</span>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile page__section\">\r\n         <div className=\"profile__container\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Кусто\" />\r\n            <button className=\"profile__avatar-edit\" aria-label=\"редактировать аватар\" onClick={onEditAvatar}></button>\r\n            <div className=\"profile__info\">  \r\n              <div className=\"profile__description\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"button profile__edit-button\" type=\"button\" id=\"profile-edit\" aria-label=\"редактировать профиль\" onClick={onEditProfile}></button>  \r\n              </div>\r\n              <p className=\"profile__job\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"button profile__add-button\" type=\"button\" aria-label=\"добавить фото\" onClick={onAddPlace}></button> \r\n      </section>\r\n\r\n      <section className=\"cards page__section\">\r\n        <ul className=\"cards__list\">\r\n        {cards.map((card) => <\r\n          Card \r\n            key={card._id} \r\n            card={card} \r\n            onCardClick={onCardClick} \r\n            onCardLike={onCardLike} \r\n            onCardDelete={onCardDelete}/\r\n          > )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer() {\r\n  const date = new Date()\r\n\r\n  return (\r\n    <footer className=\"footer page__section\">\r\n      <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className= {`${props.isOpen ? `popup popup-${props.name} popup_is-opened` : `popup popup-${props.name}`}`}>\r\n          <div className=\"popup__container\">\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className=\"form\" name={`${props.name}-form`} onSubmit = {props.onSubmit} noValidate>\r\n              <fieldset className=\"form__fieldset\">\r\n                {props.children}\r\n                <button className=\"button form__save\" type=\"submit\" id=\"save\" aria-label=\"сохранить\">{props.buttonLabel}</button>\r\n              </fieldset>\r\n            </form>\r\n            <button className=\"button popup__close\" type=\"button\" id=\"popup-close\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n          </div>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n    <div className={props.card.name ? \"popup popup-image popup_is-opened\" : \"popup popup-image\"} >\r\n          <div className=\"popup-image__container\">\r\n            <figure className=\"popup-image__figure\">\r\n              <img alt={props.card.name} src={props.card.link} className=\"popup-image__photo\" />\r\n              <figcaption className=\"popup-image__figcaption\">{props.card.name}</figcaption>\r\n            </figure>\r\n            <button className=\"button popup__close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n          </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(config) {\r\n    this._url = config.url\r\n    this._headers = config.headers\r\n  }\r\n\r\n  _handleServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else return Promise.reject(`Произошла ошибка - ${res.status}`)\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n      method: 'GET'\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  loadCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._handleServerResponse)\r\n  }\r\n  \r\n  deleteCard(id) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  /*putLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }*/\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, owner) {\r\n    const meth = owner ? \"PUT\" : \"DELETE\"\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: meth,\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api ({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23/',\r\n  headers: {\r\n    Authorization: 'fd203571-6c18-4944-b0cc-56f9f29c5b53',\r\n    \"content-type\": \"application/json\"\r\n  }\r\n})\r\n\r\nexport default api","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup ({onUpdateUser, ...rest}) {\r\n  const [name, setName] = React.useState()\r\n  const [description, setDescription] = React.useState()\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleDesciptionChange (e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name={'edit'}\r\n      title={'Редактировать профиль'}\r\n      children={\r\n         <>\r\n          <input className=\"form__input\" type=\"text\" id=\"input-name\" aria-label=\"имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''} onChange={handleNameChange}/>\r\n          <span className=\"input-name-error form__input-error\"></span>\r\n          <input className=\"form__input\" type=\"text\" id=\"input-job\" aria-label=\"работа\" minLength=\"2\" maxLength=\"200\" required value={description || ''} onChange={handleDesciptionChange}/>\r\n          <span className=\"input-job-error form__input-error\"></span>\r\n        </>\r\n      }\r\n      buttonLabel={'Сохранить'}\r\n      //isOpen = {isEditProfilePopupOpen}\r\n      //onClose = {closeAllPopups}\r\n      onSubmit = {handleSubmit}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({onUpdateAvatar,...rest}) {\r\n  const avatarUrl = React.useRef('')\r\n\r\n  React.useEffect(() => {\r\n    avatarUrl.current.value = ''\r\n  })\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatarUrl.current.value\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n        name={'avatar-update'}\r\n        title={'Обновить аватар'}\r\n        children={\r\n          <>\r\n            <input ref={avatarUrl} className=\"form__input\" type=\"url\" id=\"input-avatar-link\" aria-label=\"ссылка\" placeholder=\"Ссылка на аватар пользователя\" name=\"link\" required />\r\n              <span className=\"input-avatar-link-error form__input-error\"></span>\r\n          </>\r\n        }\r\n        buttonLabel={'Сохранить'}\r\n        onSubmit = {handleSubmit}\r\n        {...rest}\r\n        //isOpen = {isEditAvatarPopupOpen}\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({onAddPlace, isOpen,...rest}) {\r\n  const [name, setName] = React.useState()\r\n  const [link, setLink] = React.useState()\r\n\r\n  React.useEffect(() => {\r\n    setName('')\r\n    setLink('')\r\n  },[isOpen])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({\r\n      name: name,\r\n      link: link\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name={'add'}\r\n      title={'Новое место'}\r\n      children={\r\n        <>\r\n          <input className=\"form__input\" type=\"text\" id=\"input-place-name\" aria-label=\"Название\" placeholder=\"Название\" name=\"place\" minLength=\"2\" maxLength=\"30\" required value={name || ''} onChange={handleNameChange}/>\r\n          <span className=\"input-place-name-error form__input-error\"></span>\r\n          <input className=\"form__input\" type=\"url\" id=\"input-image-link\" aria-label=\"ссылка\" placeholder=\"Ссылка на картинку\" name=\"link\" required value={link || ''} onChange={handleLinkChange}/>\r\n          <span className=\"input-image-link-error form__input-error\"></span>\r\n        </>\r\n      }\r\n      buttonLabel = {'Создать'}\r\n      onSubmit = {handleSubmit}\r\n      {...rest}\r\n      isOpen = {isOpen}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport React from 'react'\r\nimport api from '../utils/api'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup';\r\n//import './App.css';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState('')\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\r\n  const [selectedCard, setSelectedCard] = React.useState({})\r\n  const [cards, setCards] = React.useState([])\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getCards()])\r\n    .then(([cardsObj]) => {\r\n      setCards(cardsObj)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id)\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards(state => state.map(c => c._id === card._id ? newCard : c))\r\n    })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(item => {\r\n      setCards(state => state.filter(c => c._id !== card._id))\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo()])\r\n    .then(([userData]) => {\r\n      setCurrentUser(userData)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n  \r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setEditAvatarPopupOpen(false)\r\n    setSelectedCard({})\r\n  }\r\n\r\n  function handleUpdateUser (inputValues) {\r\n    api.setUserInfo(inputValues)\r\n    .then((userData) => {\r\n      setCurrentUser(userData)\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => console.log(`Ошибка - ${err}`))\r\n  }\r\n\r\n  function handleUpdateAvatar (inputValue) {\r\n    api.setUserAvatar(inputValue)\r\n    .then(data => {\r\n      setCurrentUser(data)\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit (place) {\r\n    api.loadCard(place)\r\n    .then(data => {\r\n      setCards([data, ...cards])\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__container\">\r\n        <CurrentUserContext.Provider value = {currentUser}>\r\n          <Header />\r\n          <Main \r\n            onEditProfile = {handleEditProfileClick}\r\n            onAddPlace = {handleAddPlaceClick}\r\n            onEditAvatar = {handleEditAvatarClick}\r\n            onCardClick = {handleCardClick}\r\n            cards = {cards}\r\n            onCardLike = {handleCardLike}\r\n            onCardDelete = {handleCardDelete}\r\n            />\r\n          <Footer />\r\n          \r\n          <EditProfilePopup \r\n            isOpen = {isEditProfilePopupOpen} \r\n            onClose = {closeAllPopups}\r\n            onUpdateUser = {handleUpdateUser} \r\n          />\r\n\r\n          <EditAvatarPopup \r\n            isOpen = {isEditAvatarPopupOpen} \r\n            onClose = {closeAllPopups} \r\n            onUpdateAvatar = {handleUpdateAvatar}\r\n          />\r\n\r\n          <AddPlacePopup \r\n            isOpen = {isAddPlacePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onAddPlace = {handleAddPlaceSubmit}\r\n          />\r\n\r\n          <PopupWithForm \r\n            name={'confirm-delete'}\r\n            title={'Вы уверены?'}\r\n            buttonLabel={'Да'}\r\n            onClose = {closeAllPopups}\r\n            \r\n          />\r\n          \r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n        </CurrentUserContext.Provider>        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}