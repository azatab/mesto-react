{"version":3,"sources":["images/logo-vect.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","aria-label","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","id","about","map","Footer","date","Date","getFullYear","ImagePopup","props","onClose","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_handleServerResponse","data","body","JSON","stringify","meth","Authorization","PopupWithForm","isOpen","title","onSubmit","children","buttonLabel","EditProfilePopup","onUpdateUser","rest","useState","setName","description","setDescription","useEffect","minLength","maxLength","required","value","onChange","e","target","preventDefault","EditAvatarPopup","onUpdateAvatar","avatarUrl","useRef","current","ref","placeholder","AddPlacePopup","setLink","ConfirmationPopup","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmationPopupOpen","setConfirmationPopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setCards","closeAllPopups","all","getCards","getUserInfo","cardsObj","userData","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","inputValues","setUserInfo","inputValue","setUserAvatar","place","loadCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43561c89.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-vect.bbe2a6ea.svg\";","import React from 'react'\r\nimport logo from '../images/logo-vect.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__section\">\r\n          <img className=\"header__logo\" src={logo} alt=\"Место Россия\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Card ({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  \r\n  const isOwn = card.owner._id === currentUser._id\r\n  const cardDeleteButtonClassName = (\r\n    `button ${isOwn ? 'cards__delete-button' : 'cards__delete-button_hidden'}`\r\n  )\r\n  \r\n  const isLiked = card.likes.some(item => item._id === currentUser._id)\r\n  const cardLikeButtonClassName = (\r\n    `button cards__like-button ${isLiked ? 'cards__like-button-active' : ''}`\r\n  )\r\n\r\n  function handleClick() {\r\n    onCardClick(card)\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__item\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"удалить карточку\" onClick={handleDeleteClick} ></button>\r\n      <img src={card.link} className=\"cards__image\" alt={card.name} onClick={handleClick}/>\r\n      <h2 className=\"cards__title\">{card.name}</h2>\r\n      <div className=\"cards__like-container\">\r\n        <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"поставить лайк\" onClick={handleLikeClick} ></button>\r\n        <span className=\"cards__like-counter\">{card.likes.length}</span>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile page__section\">\r\n         <div className=\"profile__container\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Кусто\" />\r\n            <button className=\"profile__avatar-edit\" aria-label=\"редактировать аватар\" onClick={onEditAvatar}></button>\r\n            <div className=\"profile__info\">  \r\n              <div className=\"profile__description\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button className=\"button profile__edit-button\" type=\"button\" id=\"profile-edit\" aria-label=\"редактировать профиль\" onClick={onEditProfile}></button>  \r\n              </div>\r\n              <p className=\"profile__job\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"button profile__add-button\" type=\"button\" aria-label=\"добавить фото\" onClick={onAddPlace}></button> \r\n      </section>\r\n\r\n      <section className=\"cards page__section\">\r\n        <ul className=\"cards__list\">\r\n        {cards.map((card) => (<\r\n          Card \r\n            key={card._id} \r\n            card={card} \r\n            onCardClick={onCardClick} \r\n            onCardLike={onCardLike} \r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ) \r\n        )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer() {\r\n  const date = new Date()\r\n\r\n  return (\r\n    <footer className=\"footer page__section\">\r\n      <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n    <div className={props.card.name ? \"popup popup-image popup_is-opened\" : \"popup popup-image\"} >\r\n          <div className=\"popup-image__container\">\r\n            <figure className=\"popup-image__figure\">\r\n              <img alt={props.card.name} src={props.card.link} className=\"popup-image__photo\" />\r\n              <figcaption className=\"popup-image__figcaption\">{props.card.name}</figcaption>\r\n            </figure>\r\n            <button className=\"button popup__close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n          </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(config) {\r\n    this._url = config.url\r\n    this._headers = config.headers\r\n  }\r\n\r\n  _handleServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else return Promise.reject(`Произошла ошибка - ${res.status}`)\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n      method: 'GET'\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._handleServerResponse)\r\n  }\r\n\r\n  loadCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._handleServerResponse)\r\n  }\r\n  \r\n  deleteCard(id) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  /*putLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }*/\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    }).then(this._handleServerResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, owner) {\r\n    const meth = owner ? \"PUT\" : \"DELETE\"\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: meth,\r\n      headers: this._headers,\r\n    }).then(this._handleServerResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api ({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23/',\r\n  headers: {\r\n    Authorization: 'fd203571-6c18-4944-b0cc-56f9f29c5b53',\r\n    \"content-type\": \"application/json\"\r\n  }\r\n})\r\n\r\nexport default api","import React from 'react'\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className= {`popup popup-${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"form\" name={`${props.name}-form`} onSubmit = {props.onSubmit} >\r\n          <fieldset className=\"form__fieldset\">\r\n            {props.children}\r\n            <button className=\"button form__save\" type=\"submit\" aria-label=\"сохранить\">{props.buttonLabel}</button>\r\n          </fieldset>\r\n        </form>\r\n        <button className=\"button popup__close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup ({onUpdateUser, ...rest}) {\r\n  const [name, setName] = React.useState()\r\n  const [description, setDescription] = React.useState()\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser, rest.isOpen])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleDesciptionChange (e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name={'edit'}\r\n      title={'Редактировать профиль'}\r\n      children={\r\n         <>\r\n          <input className=\"form__input\" type=\"text\" id=\"input-name\" aria-label=\"имя\" minLength=\"2\" maxLength=\"40\" required value={name || ''} onChange={handleNameChange}/>\r\n          <span className=\"input-name-error form__input-error\"></span>\r\n          <input className=\"form__input\" type=\"text\" id=\"input-job\" aria-label=\"работа\" minLength=\"2\" maxLength=\"200\" required value={description || ''} onChange={handleDesciptionChange}/>\r\n          <span className=\"input-job-error form__input-error\"></span>\r\n        </>\r\n      }\r\n      buttonLabel={'Сохранить'}\r\n      onSubmit = {handleSubmit}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({onUpdateAvatar,...rest}) {\r\n  const avatarUrl = React.useRef('')\r\n\r\n  React.useEffect(() => {\r\n    avatarUrl.current.value = ''\r\n  }, [rest.isOpen])\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatarUrl.current.value\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n        name={'avatar-update'}\r\n        title={'Обновить аватар'}\r\n        children={\r\n          <>\r\n            <input ref={avatarUrl} className=\"form__input\" type=\"url\" id=\"input-avatar-link\" aria-label=\"ссылка\" placeholder=\"Ссылка на аватар пользователя\" name=\"link\" required />\r\n              <span className=\"input-avatar-link-error form__input-error\"></span>\r\n          </>\r\n        }\r\n        buttonLabel={'Сохранить'}\r\n        onSubmit = {handleSubmit}\r\n        {...rest}\r\n        //isOpen = {isEditAvatarPopupOpen}\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({onAddPlace, isOpen,...rest}) {\r\n  const [name, setName] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  React.useEffect(() => {\r\n    setName('')\r\n    setLink('')\r\n  },[isOpen])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({\r\n      name: name,\r\n      link: link\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name={'add'}\r\n      title={'Новое место'}\r\n      buttonLabel = {'Создать'}\r\n      onSubmit = {handleSubmit}\r\n      {...rest}\r\n      isOpen = {isOpen}\r\n      >\r\n        <input className=\"form__input\" type=\"text\" id=\"input-place-name\" aria-label=\"Название\" placeholder=\"Название\" name=\"place\" minLength=\"2\" maxLength=\"30\" required value={name || ''} onChange={handleNameChange}/>\r\n        <span className=\"input-place-name-error form__input-error\"></span>\r\n        <input className=\"form__input\" type=\"url\" id=\"input-image-link\" aria-label=\"ссылка\" placeholder=\"Ссылка на картинку\" name=\"link\" required value={link || ''} onChange={handleLinkChange}/>\r\n        <span className=\"input-image-link-error form__input-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction ConfirmationPopup ({...rest}) {\r\n  return (\r\n    <PopupWithForm \r\n      name={'confirm-delete'}\r\n      title={'Вы уверены?'}\r\n      buttonLabel={'Да'}\r\n      //onClose = {onClose}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ConfirmationPopup","import Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport ImagePopup from './ImagePopup'\r\nimport React from 'react'\r\nimport api from '../utils/api'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\nimport ConfirmationPopup from './ConfirmationPopup'\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({})\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\r\n  const [isConfirmationPopupOpen, setConfirmationPopupOpen] = React.useState(false)\r\n  const [selectedCard, setSelectedCard] = React.useState({})\r\n  const [cardToDelete, setCardToDelete] = React.useState({})\r\n  const [cards, setCards] = React.useState([])\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getCards(), api.getUserInfo()])\r\n    .then(([cardsObj, userData]) => {\r\n      setCards(cardsObj)\r\n      setCurrentUser(userData)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id)\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n    .then((newCard) => {\r\n      setCards(state => state.map(c => c._id === card._id ? newCard : c))\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDeleteSubmit(e) {\r\n    e.preventDefault()\r\n    api.deleteCard(cardToDelete._id)\r\n    .then(() => {\r\n      setCards(state => state.filter(c => c._id !== cardToDelete._id))\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setEditAvatarPopupOpen(false)\r\n    setConfirmationPopupOpen(false)\r\n    setSelectedCard({})\r\n  }\r\n\r\n  function handleUpdateUser (inputValues) {\r\n    api.setUserInfo(inputValues)\r\n    .then((userData) => {\r\n      setCurrentUser(userData)\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => console.log(`Ошибка - ${err}`))\r\n  }\r\n\r\n  function handleUpdateAvatar (inputValue) {\r\n    api.setUserAvatar(inputValue)\r\n    .then(data => {\r\n      setCurrentUser(data)\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit (place) {\r\n    api.loadCard(place)\r\n    .then(data => {\r\n      setCards([data, ...cards])\r\n      closeAllPopups()\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete (card) {\r\n    setConfirmationPopupOpen(true)\r\n    setCardToDelete(card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__container\">\r\n        <CurrentUserContext.Provider value = {currentUser}>\r\n          <Header />\r\n          <Main \r\n            onEditProfile = {handleEditProfileClick}\r\n            onAddPlace = {handleAddPlaceClick}\r\n            onEditAvatar = {handleEditAvatarClick}\r\n            onCardClick = {handleCardClick}\r\n            cards = {cards}\r\n            onCardLike = {handleCardLike}\r\n            onCardDelete = {handleCardDelete}\r\n            />\r\n          <Footer />\r\n          \r\n          <EditProfilePopup \r\n            isOpen = {isEditProfilePopupOpen} \r\n            onClose = {closeAllPopups}\r\n            onUpdateUser = {handleUpdateUser} \r\n          />\r\n\r\n          <EditAvatarPopup \r\n            isOpen = {isEditAvatarPopupOpen} \r\n            onClose = {closeAllPopups} \r\n            onUpdateAvatar = {handleUpdateAvatar}\r\n          />\r\n\r\n          <AddPlacePopup \r\n            isOpen = {isAddPlacePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onAddPlace = {handleAddPlaceSubmit}\r\n          />\r\n\r\n          <ConfirmationPopup \r\n            isOpen = {isConfirmationPopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onSubmit = {handleCardDeleteSubmit}\r\n          />\r\n          \r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n        </CurrentUserContext.Provider>        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}